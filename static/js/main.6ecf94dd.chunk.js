(this.webpackJsonpjeetcode=this.webpackJsonpjeetcode||[]).push([[0],{193:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(65),r=n.n(a),i=(n(75),n(3));n.p,n(76),n(77);function o(e){return"question_cache_".concat(e)}function l(e){return e.match(/^#[0-9]+$/)?+e.slice(1):1}function u(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){return window.sendMessage=function(e){s((function(t){return t.concat([e])}))},function(){window.sendMessage=void 0}}),[]),n}var f=n(32),j=n(66);var d=n(0);function h(){var e=function(e,t){var n=Object(c.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),s=Object(i.a)(n,2),a=s[0],r=s[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;r(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]}("is-virtual-console-open",!1),t=Object(i.a)(e,2),n=t[0],s=t[1],a=u(),r=Object(c.useRef)();return Object(c.useEffect)((function(){r.current&&(r.current.scrollTop=r.current.scrollHeight)}),[a]),Object(d.jsxs)("div",{className:"w-full bg-green-100 flex flex-col",children:[Object(d.jsxs)("div",{className:"w-full h-8 bg-gray-400 shadow-sm flex justify-center items-center relative",children:[Object(d.jsxs)("div",{className:"text-green-50",children:["Console (",a.length,")"]}),Object(d.jsx)("div",{className:"absolute right-2 hover: cursor-pointer text-green-50",onClick:function(){s((function(e){return!e}))},children:Object(d.jsx)(j.a,{icon:n?f.a:f.b})})]}),Object(d.jsx)("div",{className:"w-full h-40 p-1 overflow-scroll",hidden:!n,ref:r,children:a.map((function(e){return Object(d.jsx)("p",{className:"font-sans text-green-900 border-b border-gray-50 border-solid",children:e.data.content},e.id)}))})]})}function b(e){var t=e.html,n=e.css,s=e.javascript,a=(u(),function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){fetch("/iframe_inject.js").then((function(e){return e.text()})).then((function(e){s(e)}))}),[]),n}()),r="\n    <html>\n        <head>\n            <style>\n                ".concat(n,"\n            </style>\n            <script>\n                ").concat(a,"\n            <\/script>\n        </head>\n\n        <body>\n            ").concat(t,"\n        </body>\n\n        <script>\n            ").concat(s,"\n        <\/script>\n    </html>\n  ");return a?Object(d.jsxs)("div",{className:"w-full h-full flex flex-col",children:[Object(d.jsx)("iframe",{className:"w-full h-full flex-1",srcDoc:r}),Object(d.jsx)(h,{})]}):Object(d.jsx)("div",{className:"w-full h-full flex justify-center justify-items-center",children:"loading..."})}var v=n(67),m=n.n(v);function O(e){var t=e.markdown;return Object(d.jsx)("div",{className:"p-2 overflow-y-scroll",children:Object(d.jsx)(m.a,{children:t})})}var x=n(69),g=n(70),p=["forcedContent","onChange"];function w(e){var t=e.forcedContent,n=void 0===t?"":t,s=e.onChange,a=Object(g.a)(e,p),r=Object(c.useState)(n),o=Object(i.a)(r,2),l=o[0],u=o[1];Object(c.useEffect)((function(){u(n)}),[n]);var f=Object(c.useCallback)(function(e,t,n){var c;return function(){var s=this,a=arguments,r=function(){c=null,n||e.apply(s,a)},i=n&&!c;clearTimeout(c),c=setTimeout(r,t),i&&e.apply(s,a)}}((function(e){s&&s(e)}),1e3),[]);return Object(d.jsx)("textarea",Object(x.a)({className:"h-full w-full p-1",onChange:function(e){var t=e.target.value;f(t),u(t)},value:l},a))}function N(e){var t=e.html,n=e.css,c=e.javascript,s=e.onHtmlChange,a=e.onCssChange,r=e.onJavascriptChange;return Object(d.jsxs)("div",{className:"flex flex-col h-full",children:[Object(d.jsx)("div",{className:"flex-1 p-2",children:Object(d.jsx)(w,{forcedContent:t,className:"h-full w-full p-1",placeholder:"html",onChange:s})}),Object(d.jsx)("div",{className:"flex-1 p-2",children:Object(d.jsx)(w,{forcedContent:n,className:"h-full w-full p-1",placeholder:"css",onChange:a})}),Object(d.jsx)("div",{className:"flex-1 p-2",children:Object(d.jsx)(w,{forcedContent:c,className:"h-full w-full p-1",placeholder:"javascript",onChange:r})})]})}function C(e){var t=e.questionNumber,n=void 0===t?1:t,s=Object(c.useState)({html:"",css:"",javascript:""}),a=Object(i.a)(s,2),r=a[0],l=a[1],u=function(e,t,n,s){var a=Object(c.useState)(null),r=Object(i.a)(a,2),o=r[0],l=r[1];return Object(c.useEffect)((function(){var t=fetch("/questions/q".concat(e,"/question.md")).then((function(e){return e.text()})),n=fetch("/questions/q".concat(e,"/question.html")).then((function(e){return e.text()})),c=fetch("/questions/q".concat(e,"/question.css")).then((function(e){return e.text()})),s=fetch("/questions/q".concat(e,"/question.js")).then((function(e){return e.text()}));Promise.all([t,n,c,s]).then((function(t){var n=Object(i.a)(t,4),c=n[0],s=n[1],a=n[2],r=n[3];l({questionNumber:e,md:c,html:s,css:a,javascript:r})}))}),[e]),o}(n);function f(e){!function(e,t){t?localStorage.setItem(o(e),JSON.stringify(t)):localStorage.setItem(o(e),"")}(n,e)}return Object(c.useEffect)((function(){var e=function(e){var t=localStorage.getItem(o(e));return t?JSON.parse(t):null}(n);e?l({html:e.html,css:e.css,javascript:e.javascript}):(null===u||void 0===u?void 0:u.questionNumber)===n&&l({html:u.html,css:u.css,javascript:u.javascript})}),[n,u]),Object(d.jsxs)("div",{className:"flex justify-items-stretch h-full",children:[Object(d.jsx)("div",{className:"flex-1 bg-indigo-200",children:Object(d.jsx)(O,{markdown:null===u||void 0===u?void 0:u.md})}),Object(d.jsx)("div",{className:"flex-1 bg-purple-100",children:Object(d.jsx)(N,{html:r.html,onHtmlChange:function(e){l((function(t){var n=Object.assign({},t,{html:e});return f(n),n}))},css:r.css,onCssChange:function(e){l((function(t){var n=Object.assign({},t,{css:e});return f(n),n}))},javascript:r.javascript,onJavascriptChange:function(e){l((function(t){var n=Object.assign({},t,{javascript:e});return f(n),n}))}})}),Object(d.jsx)("div",{className:"flex-1 bg-pink-100",children:Object(d.jsx)(b,{html:r.html,javascript:r.javascript,css:r.css})})]})}function S(){return Object(d.jsx)("div",{className:"font-bold font-sans p-1 pl-4",title:"\u524d\u7aef\u9762\u8bd5\u9898\u7ec3\u4e60\u573a",children:"JeesCode!"})}function y(e){var t=e.children;return Object(d.jsxs)("div",{className:"flex h-10 w-screen items-center shadow-md bg-gray-100",children:[Object(d.jsx)(S,{}),Object(d.jsx)("div",{className:"flex-1",children:t})]})}var q=n(68),E=n.n(q);function k(){var e={clientID:"5cd53a83725fc77fea88",clientSecret:"fb93d69b954f7c5b287781f36f59154879ec4033",repo:"jeescode.github.io",owner:"jeescode",admin:["jeescode","mmjang"],id:window.location.href,distractionFreeMode:!1},t=Object(c.useRef)();return Object(c.useEffect)((function(){new E.a(e).render("gitalk-container")}),[]),Object(d.jsx)("div",{id:"gitalk-container",ref:t})}var J=function(){var e=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){fetch("/questions.json").then((function(e){return e.json()})).then((function(e){s(e.list)}))}),[]),n}(),t=function(){var e=Object(c.useState)(l(window.location.hash)),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){function e(){var e=window.location.hash,t=l(e);e||(window.location.hash="#1"),s(t)}return window.addEventListener("hashchange",e),e(),function(){window.removeEventListener("hashchange",e)}}),[]),n}(),n=Object(c.useState)(t),s=Object(i.a)(n,2),a=s[0],r=s[1],o=Object(c.useState)(!1),u=Object(i.a)(o,2),f=u[0],j=u[1];return Object(c.useEffect)((function(){j(!1)}),[t]),Object(d.jsxs)("div",{className:"w-screen h-screen flex flex-col",children:[Object(d.jsxs)(y,{children:[Object(d.jsx)("span",{className:"pl-4 p-1 text-blue-700",children:"\u9898\u76ee\u5217\u8868\uff1a"}),Object(d.jsx)("select",{value:a,onChange:function(e){window.location.href="#".concat(e.target.value),r(e.target.value)},children:e.map((function(e){return Object(d.jsx)("option",{value:e.questionNumber,children:"".concat(e.questionNumber,". ").concat(e.title)})}))}),Object(d.jsx)("button",{onClick:function(){j(!0)},className:"shadow-md ml-4 bg-white p-1",children:"\u67e5\u770b\u8bc4\u8bba"})]}),Object(d.jsx)(C,{questionNumber:t}),f?Object(d.jsx)("div",{className:"fixed w-screen h-screen flex items-center justify-center",onClick:function(e){j(!1),e.stopPropagation()},children:Object(d.jsx)("div",{className:"w-3/6 h-5/6 bg-gray-50 rounded-xl shadow-md p-2",children:Object(d.jsx)(k,{})})}):null]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,194)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(J,{})}),document.getElementById("root")),I()},75:function(e,t,n){},76:function(e,t,n){}},[[193,1,2]]]);
//# sourceMappingURL=main.6ecf94dd.chunk.js.map