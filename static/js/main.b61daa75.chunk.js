(this.webpackJsonpjeetcode=this.webpackJsonpjeetcode||[]).push([[0],{192:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(67),a=n.n(r),i=(n(74),n(3));n.p,n(75),n(76);function l(e){return"question_cache_".concat(e)}function o(e){return e.match(/^#[0-9]+$/)?+e.slice(1):1}function u(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){return window.sendMessage=function(e){s((function(t){return t.concat([e])}))},function(){window.sendMessage=void 0}}),[]),n}var j=n(16),f=n(24);var d=n(2);function h(){var e=function(e,t){var n=Object(c.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),s=Object(i.a)(n,2),r=s[0],a=s[1];return[r,function(t){try{var n=t instanceof Function?t(r):t;a(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]}("is-virtual-console-open",!1),t=Object(i.a)(e,2),n=t[0],s=t[1],r=u(),a=Object(c.useRef)();return Object(c.useEffect)((function(){a.current&&(a.current.scrollTop=a.current.scrollHeight)}),[r]),Object(d.jsxs)("div",{className:"w-full bg-green-100 flex flex-col",children:[Object(d.jsxs)("div",{className:"w-full h-8 bg-gray-400 shadow-sm flex justify-center items-center relative",children:[Object(d.jsxs)("div",{className:"text-green-50",children:["Console (",r.length,")"]}),Object(d.jsx)("div",{className:"absolute right-2 hover: cursor-pointer text-green-50",onClick:function(){s((function(e){return!e}))},children:Object(d.jsx)(f.a,{icon:n?j.a:j.b})})]}),Object(d.jsx)("div",{className:"w-full h-40 p-1 overflow-scroll",hidden:!n,ref:a,children:r.map((function(e){return Object(d.jsx)("p",{className:"font-sans text-green-900 border-b border-gray-50 border-solid",children:e.data.content},e.id)}))})]})}function b(e){var t=e.html,n=e.css,s=e.javascript,r=(u(),function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){fetch("/iframe_inject.js").then((function(e){return e.text()})).then((function(e){s(e)}))}),[]),n}()),a="\n    <html>\n        <head>\n            <style>\n                ".concat(n,"\n            </style>\n            <script>\n                ").concat(r,"\n            <\/script>\n        </head>\n\n        <body>\n            ").concat(t,"\n        </body>\n\n        <script>\n            ").concat(s,"\n        <\/script>\n    </html>\n  ");return r?Object(d.jsxs)("div",{className:"w-full h-full flex flex-col",children:[Object(d.jsx)("iframe",{className:"w-full h-full flex-1",srcDoc:a}),Object(d.jsx)(h,{})]}):Object(d.jsx)("div",{className:"w-full h-full flex justify-center justify-items-center",children:"loading..."})}var v=n(68),m=n.n(v);function O(e){var t=e.markdown;return Object(d.jsx)("div",{className:"p-2 overflow-y-scroll",children:Object(d.jsx)(m.a,{children:t})})}var x=n(25);function p(e){var t=e.html,n=e.css,s=e.javascript,r=e.onChange,a=Object(c.useRef)(null),i=Object(c.useRef)(null),l=Object(c.useRef)(null);return Object(c.useEffect)((function(){a.current&&a.current.setValue(t),i.current&&i.current.setValue(n),l.current&&l.current.setValue(s)}),[t,n,s]),Object(d.jsxs)("div",{className:"flex flex-col h-full",children:[Object(d.jsxs)("div",{className:"flex-1 relative",children:[Object(d.jsx)(x.a,{defaultLanguage:"html",theme:"vs-dark",defaultValue:t,options:{minimap:{enabled:!1}},onChange:function(e){r({html:e})},onMount:function(e){return a.current=e}}),Object(d.jsx)("div",{className:"absolute right-0 top-0 text-white p-1 rounded-xl bg-red-400",children:"HTML"})]}),Object(d.jsxs)("div",{className:"flex-1 relative",children:[Object(d.jsx)(x.a,{defaultLanguage:"css",theme:"vs-dark",defaultValue:n,options:{minimap:{enabled:!1}},onChange:function(e){r({css:e})},onMount:function(e){return i.current=e}}),Object(d.jsx)("div",{className:"absolute right-0 top-0 text-white p-1 rounded-xl bg-green-400",children:"CSS"})]}),Object(d.jsxs)("div",{className:"flex-1 relative",children:[Object(d.jsx)(x.a,{defaultLanguage:"javascript",theme:"vs-dark",defaultValue:s,options:{minimap:{enabled:!1}},onChange:function(e){return r({javascript:e})},onMount:function(e){return l.current=e}}),Object(d.jsx)("div",{className:"absolute right-0 top-0 text-white p-1 rounded-xl bg-blue-400",children:"JS"})]})]})}function g(e){var t=e.questionNumber,n=void 0===t?1:t,s=Object(c.useState)({html:null,css:null,javascript:null}),r=Object(i.a)(s,2),a=r[0],o=r[1],u=Object(c.useState)({html:"",css:"",javascript:""}),j=Object(i.a)(u,2),f=j[0],h=j[1],v=function(e,t,n,s){var r=Object(c.useState)(null),a=Object(i.a)(r,2),l=a[0],o=a[1];return Object(c.useEffect)((function(){o(null);var t=fetch("/questions/q".concat(e,"/question.md")).then((function(e){return e.text()})),n=fetch("/questions/q".concat(e,"/question.html")).then((function(e){return e.text()})),c=fetch("/questions/q".concat(e,"/question.css")).then((function(e){return e.text()})),s=fetch("/questions/q".concat(e,"/question.js")).then((function(e){return e.text()}));Promise.all([t,n,c,s]).then((function(t){var n=Object(i.a)(t,4),c=n[0],s=n[1],r=n[2],a=n[3];o({questionNumber:e,md:c,html:s,css:r,javascript:a})}))}),[e]),l}(n);function m(e){!function(e,t){t?localStorage.setItem(l(e),JSON.stringify(t)):localStorage.setItem(l(e),"")}(n,e)}Object(c.useEffect)((function(){var e=function(e){var t=localStorage.getItem(l(e));return t?JSON.parse(t):null}(n);if(e){var t={html:e.html,css:e.css,javascript:e.javascript};o(t),h(t)}else if((null===v||void 0===v?void 0:v.questionNumber)===n){var c={html:v.html,css:v.css,javascript:v.javascript};o(c),h(c)}}),[n,v]);var x=function(e,t,n){var c;return function(){var s=this,r=arguments,a=function(){c=null,n||e.apply(s,r)},i=n&&!c;clearTimeout(c),c=setTimeout(a,t),i&&e.apply(s,r)}}((function(e){var t=Object.assign({},f,e);m(t),h(t)}),500);return Object(d.jsxs)("div",{className:"flex justify-items-stretch h-full",children:[Object(d.jsx)("div",{className:"flex-1 bg-indigo-200",children:Object(d.jsx)(O,{markdown:null===v||void 0===v?void 0:v.md})}),Object(d.jsx)("div",{className:"flex-1 bg-purple-100",children:null!==a.html?Object(d.jsx)(p,{html:a.html,css:a.css,javascript:a.javascript,onChange:x}):null}),Object(d.jsx)("div",{className:"flex-1 bg-pink-100",children:Object(d.jsx)(b,{html:f.html,javascript:f.javascript,css:f.css})})]})}function w(){return Object(d.jsx)("div",{className:"font-bold font-sans p-1 pl-4",title:"\u524d\u7aef\u9762\u8bd5\u9898\u7ec3\u4e60\u573a",children:"JeesCode!"})}function N(e){var t=e.children;return Object(d.jsxs)("div",{className:"flex h-10 w-screen items-center shadow-md bg-gray-100",children:[Object(d.jsx)(w,{}),Object(d.jsx)("div",{className:"flex-1",children:t}),Object(d.jsxs)("div",{className:"pl-2 pr-2",children:[Object(d.jsx)("span",{className:"text-red-700 pr-2",children:Object(d.jsx)(f.a,{icon:j.c})}),Object(d.jsx)("span",{children:Object(d.jsx)("a",{href:"https://github.com/lulu2jinchi",children:"@lulu2jinchi"})})]})]})}var S=n(69),y=n.n(S);function q(){var e={clientID:"5cd53a83725fc77fea88",clientSecret:"fb93d69b954f7c5b287781f36f59154879ec4033",repo:"jeescode.github.io",owner:"jeescode",admin:["jeescode","mmjang"],id:window.location.href,distractionFreeMode:!1},t=Object(c.useRef)();return Object(c.useEffect)((function(){new y.a(e).render("gitalk-container")}),[]),Object(d.jsx)("div",{id:"gitalk-container",ref:t})}var C=function(){var e=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){fetch("/questions.json").then((function(e){return e.json()})).then((function(e){s(e.list)}))}),[]),n}(),t=function(){var e=Object(c.useState)(o(window.location.hash)),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){function e(){var e=window.location.hash,t=o(e);e||(window.location.hash="#1"),s(t)}return window.addEventListener("hashchange",e),e(),function(){window.removeEventListener("hashchange",e)}}),[]),n}(),n=Object(c.useState)(t),s=Object(i.a)(n,2),r=s[0],a=s[1],l=Object(c.useState)(!1),u=Object(i.a)(l,2),j=u[0],f=u[1];return Object(c.useEffect)((function(){f(!1)}),[t]),Object(d.jsxs)("div",{className:"w-screen h-screen flex flex-col",children:[Object(d.jsxs)(N,{children:[Object(d.jsx)("span",{className:"pl-4 p-1 text-blue-700",children:"\u9898\u76ee\u5217\u8868\uff1a"}),Object(d.jsx)("select",{value:r,onChange:function(e){window.location.href="#".concat(e.target.value),a(e.target.value)},children:e.map((function(e){return Object(d.jsx)("option",{value:e.questionNumber,children:"".concat(e.questionNumber,". ").concat(e.title)})}))}),Object(d.jsx)("button",{onClick:function(){f(!0)},className:"shadow-md ml-4 bg-white p-1",children:"\u67e5\u770b\u8bc4\u8bba"})]}),Object(d.jsx)(g,{questionNumber:t}),j?Object(d.jsx)("div",{className:"fixed w-screen h-screen flex items-center justify-center",onClick:function(e){f(!1)},children:Object(d.jsx)("div",{className:"w-3/6 h-5/6 bg-gray-50 rounded-xl shadow-md p-2",onClick:function(e){return e.stopPropagation()},children:Object(d.jsx)(q,{})})}):null]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,193)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root")),k()},74:function(e,t,n){},75:function(e,t,n){}},[[192,1,2]]]);
//# sourceMappingURL=main.b61daa75.chunk.js.map