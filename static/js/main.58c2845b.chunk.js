(this.webpackJsonpjeetcode=this.webpackJsonpjeetcode||[]).push([[0],{153:function(e,t,n){},154:function(e,t,n){},361:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(143),r=n.n(a),o=(n(153),n(8));n.p,n(154),n(155);function i(e){return"question_cache_".concat(e)}function l(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){return window.sendMessage=function(e){s((function(t){return t.concat([e])}))},function(){window.sendMessage=void 0}}),[]),n}var u=n(77),f=n(144);var j=n(0);function h(){var e=function(e,t){var n=Object(c.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),s=Object(o.a)(n,2),a=s[0],r=s[1];return[a,function(t){try{var n=t instanceof Function?t(a):t;r(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]}("is-virtual-console-open",!1),t=Object(o.a)(e,2),n=t[0],s=t[1],a=l(),r=Object(c.useRef)();return Object(c.useEffect)((function(){r.current&&(r.current.scrollTop=r.current.scrollHeight)}),[a]),Object(j.jsxs)("div",{className:"w-full bg-green-100 flex flex-col",children:[Object(j.jsxs)("div",{className:"w-full h-8 bg-gray-400 shadow-sm flex justify-center items-center relative",children:[Object(j.jsxs)("div",{className:"text-green-50",children:["Console (",a.length,")"]}),Object(j.jsx)("div",{className:"absolute right-2 hover: cursor-pointer text-green-50",onClick:function(){s((function(e){return!e}))},children:Object(j.jsx)(f.a,{icon:n?u.a:u.b})})]}),Object(j.jsx)("div",{className:"w-full h-40 p-1 overflow-scroll",hidden:!n,ref:r,children:a.map((function(e){return Object(j.jsx)("p",{className:"font-sans text-green-900 border-b border-gray-50 border-solid",children:e.data.content},e.id)}))})]})}function d(e){var t=e.html,n=e.css,s=e.javascript,a=(l(),function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){fetch("/iframe_inject.js").then((function(e){return e.text()})).then((function(e){s(e)}))}),[]),n}()),r="\n    <html>\n        <head>\n            <style>\n                ".concat(n,"\n            </style>\n            <script>\n                ").concat(a,"\n            <\/script>\n        </head>\n\n        <body>\n            ").concat(t,"\n        </body>\n\n        <script>\n            ").concat(s,"\n        <\/script>\n    </html>\n  ");return a?Object(j.jsxs)("div",{className:"w-full h-full flex flex-col",children:[Object(j.jsx)("iframe",{className:"w-full h-full flex-1",srcDoc:r}),Object(j.jsx)(h,{})]}):Object(j.jsx)("div",{className:"w-full h-full flex justify-center justify-items-center",children:"loading..."})}var b=n(145),v=n.n(b),m=n(146),O=n.n(m);function x(e){var t=e.markdown;return Object(j.jsxs)("div",{className:"p-2 overflow-y-scroll",children:[Object(j.jsx)(v.a,{children:t}),Object(j.jsx)(O.a,{options:{clientID:"5cd53a83725fc77fea88",clientSecret:"fb93d69b954f7c5b287781f36f59154879ec4033",repo:"jeescode.github.io",owner:"jeescode",admin:["jeescode","mmjang"],id:window.location.href,distractionFreeMode:!1}})]})}var p=n(147),g=n(148),w=["forcedContent","onChange"];function N(e){var t=e.forcedContent,n=void 0===t?"":t,s=e.onChange,a=Object(g.a)(e,w),r=Object(c.useState)(n),i=Object(o.a)(r,2),l=i[0],u=i[1];Object(c.useEffect)((function(){u(n)}),[n]);var f=Object(c.useCallback)(function(e,t,n){var c;return function(){var s=this,a=arguments,r=function(){c=null,n||e.apply(s,a)},o=n&&!c;clearTimeout(c),c=setTimeout(r,t),o&&e.apply(s,a)}}((function(e){s&&s(e)}),1e3),[]);return Object(j.jsx)("textarea",Object(p.a)({className:"h-full w-full p-1",onChange:function(e){var t=e.target.value;f(t),u(t)},value:l},a))}function C(e){var t=e.html,n=e.css,c=e.javascript,s=e.onHtmlChange,a=e.onCssChange,r=e.onJavascriptChange;return Object(j.jsxs)("div",{className:"flex flex-col h-full",children:[Object(j.jsx)("div",{className:"flex-1 p-2",children:Object(j.jsx)(N,{forcedContent:t,className:"h-full w-full p-1",placeholder:"html",onChange:s})}),Object(j.jsx)("div",{className:"flex-1 p-2",children:Object(j.jsx)(N,{forcedContent:n,className:"h-full w-full p-1",placeholder:"css",onChange:a})}),Object(j.jsx)("div",{className:"flex-1 p-2",children:Object(j.jsx)(N,{forcedContent:c,className:"h-full w-full p-1",placeholder:"javascript",onChange:r})})]})}function S(e){var t=e.questionNumber,n=void 0===t?1:t,s=Object(c.useState)({html:"",css:"",javascript:""}),a=Object(o.a)(s,2),r=a[0],l=a[1],u=function(e,t,n,s){var a=Object(c.useState)(null),r=Object(o.a)(a,2),i=r[0],l=r[1];return Object(c.useEffect)((function(){var t=fetch("/questions/q".concat(e,"/question.md")).then((function(e){return e.text()})),n=fetch("/questions/q".concat(e,"/question.html")).then((function(e){return e.text()})),c=fetch("/questions/q".concat(e,"/question.css")).then((function(e){return e.text()})),s=fetch("/questions/q".concat(e,"/question.js")).then((function(e){return e.text()}));Promise.all([t,n,c,s]).then((function(t){var n=Object(o.a)(t,4),c=n[0],s=n[1],a=n[2],r=n[3];l({questionNumber:e,md:c,html:s,css:a,javascript:r})}))}),[e]),i}(n);function f(e){!function(e,t){t?localStorage.setItem(i(e),JSON.stringify(t)):localStorage.setItem(i(e),"")}(n,e)}return Object(c.useEffect)((function(){var e=function(e){var t=localStorage.getItem(i(e));return t?JSON.parse(t):null}(n);e?l({html:e.html,css:e.css,javascript:e.javascript}):(null===u||void 0===u?void 0:u.questionNumber)===n&&l({html:u.html,css:u.css,javascript:u.javascript})}),[n,u]),Object(j.jsxs)("div",{className:"flex justify-items-stretch h-full",children:[Object(j.jsx)("div",{className:"flex-1 bg-indigo-200",children:Object(j.jsx)(x,{markdown:null===u||void 0===u?void 0:u.md})}),Object(j.jsx)("div",{className:"flex-1 bg-purple-100",children:Object(j.jsx)(C,{html:r.html,onHtmlChange:function(e){l((function(t){var n=Object.assign({},t,{html:e});return f(n),n}))},css:r.css,onCssChange:function(e){l((function(t){var n=Object.assign({},t,{css:e});return f(n),n}))},javascript:r.javascript,onJavascriptChange:function(e){l((function(t){var n=Object.assign({},t,{javascript:e});return f(n),n}))}})}),Object(j.jsx)("div",{className:"flex-1 bg-pink-100",children:Object(j.jsx)(d,{html:r.html,javascript:r.javascript,css:r.css})})]})}function q(){return Object(j.jsx)("div",{className:"font-bold font-sans p-1 pl-4",title:"\u524d\u7aef\u9762\u8bd5\u9898\u7ec3\u4e60\u573a",children:"JeesCode!"})}function y(e){var t=e.children;return Object(j.jsxs)("div",{className:"flex h-10 w-screen items-center shadow-md bg-gray-100",children:[Object(j.jsx)(q,{}),Object(j.jsx)("div",{className:"flex-1",children:t})]})}var E=function(){var e=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){fetch("/questions.json").then((function(e){return e.json()})).then((function(e){s(e.list)}))}),[]),n}(),t=function(){var e=Object(c.useState)(1),t=Object(o.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){function e(){var e=window.location.hash;if(e.match(/^#[0-9]+$/)){var t=+e.slice(1);s(t)}else window.location.href="#1",s(1)}return window.addEventListener("hashchange",e),e(),function(){window.removeEventListener("hashchange",e)}}),[]),n}(),n=Object(c.useState)(1),s=Object(o.a)(n,2),a=s[0],r=s[1];return Object(j.jsxs)("div",{className:"w-screen h-screen flex flex-col",children:[Object(j.jsxs)(y,{children:[Object(j.jsx)("span",{className:"pl-4 p-1 text-blue-700",children:"\u9898\u76ee\u5217\u8868\uff1a"}),Object(j.jsx)("select",{value:a,onChange:function(e){window.location.href="#".concat(e.target.value),r(e.target.value)},children:e.map((function(e){return Object(j.jsx)("option",{value:e.questionNumber,children:"".concat(e.questionNumber,". ").concat(e.title)})}))})]}),Object(j.jsx)(S,{questionNumber:t})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,362)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root")),J()}},[[361,1,2]]]);
//# sourceMappingURL=main.58c2845b.chunk.js.map