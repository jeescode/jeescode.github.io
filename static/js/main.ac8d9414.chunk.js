(this.webpackJsonpjeetcode=this.webpackJsonpjeetcode||[]).push([[0],{192:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(66),r=n.n(a),l=(n(75),n.p,n(76),n(5));function i(e){return"question_cache_".concat(e)}function o(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){return window.sendMessage=function(e){s((function(t){return t.concat([e])}))},function(){window.sendMessage=void 0}}),[]),n}var u=n(33),f=n(67),j=n(32);var h=n(0);function d(){var e=function(e,t){var n=Object(j.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),c=Object(l.a)(n,2),s=c[0],a=c[1];return[s,function(t){try{var n=t instanceof Function?t(s):t;a(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]}("is-virtual-console-open",!1),t=Object(l.a)(e,2),n=t[0],s=t[1],a=o(),r=Object(c.useRef)();return Object(c.useEffect)((function(){r.current&&(r.current.scrollTop=r.current.scrollHeight)}),[a]),Object(h.jsxs)("div",{className:"w-full bg-green-100 flex flex-col",children:[Object(h.jsxs)("div",{className:"w-full h-8 bg-gray-400 shadow-sm flex justify-center items-center relative",children:[Object(h.jsxs)("div",{className:"text-green-50",children:["Console (",a.length,")"]}),Object(h.jsx)("div",{className:"absolute right-2 hover: cursor-pointer text-green-50",onClick:function(){s((function(e){return!e}))},children:Object(h.jsx)(f.a,{icon:n?u.a:u.b})})]}),Object(h.jsx)("div",{className:"w-full h-40 p-1 overflow-scroll",hidden:!n,ref:r,children:a.map((function(e){return Object(h.jsx)("p",{className:"font-sans text-green-900 border-b border-gray-50 border-solid",children:e.data.content},e.id)}))})]})}function b(e){var t=e.html,n=e.css,s=e.javascript,a=(o(),function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(c.useEffect)((function(){fetch("/iframe_inject.js").then((function(e){return e.text()})).then((function(e){s(e)}))}),[]),n}()),r="\n    <html>\n        <head>\n            <style>\n                ".concat(n,"\n            </style>\n            <script>\n                ").concat(a,"\n            <\/script>\n        </head>\n\n        <body>\n            ").concat(t,"\n        </body>\n\n        <script>\n            ").concat(s,"\n        <\/script>\n    </html>\n  ");return a?Object(h.jsxs)("div",{className:"w-full h-full flex flex-col",children:[Object(h.jsx)("iframe",{className:"w-full h-full flex-1",srcDoc:r}),Object(h.jsx)(d,{})]}):Object(h.jsx)("div",{className:"w-full h-full flex justify-center justify-items-center",children:"loading..."})}var v=n(68),m=n.n(v);function O(e){var t=e.markdown;return Object(h.jsx)("div",{className:"p-8",children:Object(h.jsx)(m.a,{children:t})})}var x=n(69),p=n(70),g=["forcedContent","onChange"];function N(e){var t=e.forcedContent,n=void 0===t?"":t,s=e.onChange,a=Object(p.a)(e,g),r=Object(c.useState)(n),i=Object(l.a)(r,2),o=i[0],u=i[1];Object(c.useEffect)((function(){u(n)}),[n]);var f=Object(c.useCallback)(function(e,t,n){var c;return function(){var s=this,a=arguments,r=function(){c=null,n||e.apply(s,a)},l=n&&!c;clearTimeout(c),c=setTimeout(r,t),l&&e.apply(s,a)}}((function(e){s&&s(e)}),1e3),[]);return Object(h.jsx)("textarea",Object(x.a)({className:"h-full w-full p-1",onChange:function(e){var t=e.target.value;f(t),u(t)},value:o},a))}function w(e){var t=e.html,n=e.css,c=e.javascript,s=e.onHtmlChange,a=e.onCssChange,r=e.onJavascriptChange;return Object(h.jsxs)("div",{className:"flex flex-col h-full",children:[Object(h.jsx)("div",{className:"flex-1 p-2",children:Object(h.jsx)(N,{forcedContent:t,className:"h-full w-full p-1",placeholder:"html",onChange:s})}),Object(h.jsx)("div",{className:"flex-1 p-2",children:Object(h.jsx)(N,{forcedContent:n,className:"h-full w-full p-1",placeholder:"css",onChange:a})}),Object(h.jsx)("div",{className:"flex-1 p-2",children:Object(h.jsx)(N,{forcedContent:c,className:"h-full w-full p-1",placeholder:"javascript",onChange:r})})]})}function C(e){var t=e.questionNumber,n=void 0===t?1:t,s=Object(c.useState)({html:"",css:"",javascript:""}),a=Object(l.a)(s,2),r=a[0],o=a[1],u=function(e,t,n,s){var a=Object(c.useState)(null),r=Object(l.a)(a,2),i=r[0],o=r[1];return Object(c.useEffect)((function(){var t=fetch("/questions/q".concat(e,"/question.md")).then((function(e){return e.text()})),n=fetch("/questions/q".concat(e,"/question.html")).then((function(e){return e.text()})),c=fetch("/questions/q".concat(e,"/question.css")).then((function(e){return e.text()})),s=fetch("/questions/q".concat(e,"/question.js")).then((function(e){return e.text()}));Promise.all([t,n,c,s]).then((function(t){var n=Object(l.a)(t,4),c=n[0],s=n[1],a=n[2],r=n[3];o({questionNumber:e,md:c,html:s,css:a,javascript:r})}))}),[e]),i}(n);function f(e){!function(e,t){t?localStorage.setItem(i(e),JSON.stringify(t)):localStorage.setItem(i(e),"")}(n,e)}return Object(c.useEffect)((function(){var e=function(e){var t=localStorage.getItem(i(e));return t?JSON.parse(t):null}(n);e?o({html:e.html,css:e.css,javascript:e.javascript}):(null===u||void 0===u?void 0:u.questionNumber)===n&&o({html:u.html,css:u.css,javascript:u.javascript})}),[n,u]),Object(h.jsxs)("div",{className:"flex justify-items-stretch h-full",children:[Object(h.jsx)("div",{className:"flex-1 bg-indigo-200",children:Object(h.jsx)(O,{markdown:null===u||void 0===u?void 0:u.md})}),Object(h.jsx)("div",{className:"flex-1 bg-purple-100",children:Object(h.jsx)(w,{html:r.html,onHtmlChange:function(e){o((function(t){var n=Object.assign({},t,{html:e});return f(n),n}))},css:r.css,onCssChange:function(e){o((function(t){var n=Object.assign({},t,{css:e});return f(n),n}))},javascript:r.javascript,onJavascriptChange:function(e){o((function(t){var n=Object.assign({},t,{javascript:e});return f(n),n}))}})}),Object(h.jsx)("div",{className:"flex-1 bg-pink-100",children:Object(h.jsx)(b,{html:r.html,javascript:r.javascript,css:r.css})})]})}function y(){return Object(h.jsx)("div",{className:"font-bold font-sans p-1 pl-4",title:"\u524d\u7aef\u9762\u8bd5\u9898\u7ec3\u4e60\u573a",children:"JeesCode!"})}function S(){return Object(h.jsx)("div",{className:"flex h-10 w-screen items-center shadow-md bg-gray-100",children:Object(h.jsx)(y,{})})}var q=function(){return Object(h.jsxs)("div",{className:"w-screen h-screen flex flex-col",children:[Object(h.jsx)(S,{}),Object(h.jsx)(C,{})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,193)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(q,{})}),document.getElementById("root")),J()},75:function(e,t,n){},76:function(e,t,n){}},[[192,1,2]]]);
//# sourceMappingURL=main.ac8d9414.chunk.js.map