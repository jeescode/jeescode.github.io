{"version":3,"sources":["logo.svg","utils.js","hooks/useIframeMessage.js","components/VirtualConsole.js","hooks/useLocalStorage.js","components/BrowserArea.js","hooks/useIframeInject.js","components/DocumentArea.js","components/EditorArea.js","components/Sandbox.js","hooks/useQuestion.js","components/Logo.js","components/Banner.js","components/Comment.js","components/Select.js","App.js","hooks/useQuestionList.js","hooks/useQuestionNumber.js","reportWebVitals.js","index.js"],"names":["cacheKey","questionNumber","getQuestionNumberFromHash","hash","match","slice","useIframeMessage","useState","messageList","setMessageList","useEffect","window","sendMessage","args","concat","undefined","VirtualConsole","key","initialValue","item","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","useLocalStorage","isOpen","setIsOpen","scrollRef","useRef","current","scrollTop","scrollHeight","className","length","onClick","o","icon","faAngleDown","faAngleUp","hidden","ref","map","m","type","data","content","id","BrowserArea","html","css","javascript","injectString","setInjectString","fetch","then","r","text","useIframeInject","tmpl","srcDoc","DocumentArea","markdown","EditorArea","onChange","htmlEditorRef","cssEditorRef","javascriptEditorRef","setValue","defaultLanguage","theme","defaultValue","options","minimap","enabled","onMount","editor","Sandbox","initialEditorState","setInitialEditorState","browserState","setBrowserState","questionObject","setHtml","setCss","setJavascript","setQuestionObject","mdPromise","htmlPromise","cssPromise","jsPromise","Promise","all","md","useQuestion","saveDraft","state","setQuestionCache","questionCache","objString","getQuestionCache","deboundedOnChange","func","wait","immediate","timeout","context","this","arguments","later","apply","callNow","clearTimeout","setTimeout","debounce","stateDiff","newState","Object","assign","Logo","title","Banner","children","faHeart","href","Comment","config","clientID","clientSecret","repo","owner","admin","location","distractionFreeMode","Gitalk","render","Select","placeholder","dropDownOpen","setDropDownOpen","selectedLabel","find","x","label","dropDownRef","onMouseDown","event","contains","target","addEventListener","removeEventListener","dropDown","option","open","style","width","App","questionList","setQuestionList","json","list","useQuestionList","setQuestionNumber","onHashChange","num","useQuestionNumber","selected","setSelected","showComment","setShowComment","select","q","faRedo","e","stopPropagation","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c6d4bf6d.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export function debounce(func, wait, immediate) {\n  let timeout;\n  return function () {\n    let context = this,\n      args = arguments;\n    let later = function () {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n  };\n}\n\nfunction cacheKey(questionNumber) {\n  return `question_cache_${questionNumber}`;\n}\n\nexport function getQuestionCache(questionNumber) {\n  const objString = localStorage.getItem(cacheKey(questionNumber));\n  if (objString) {\n    return JSON.parse(objString);\n  }\n  return null;\n}\n\nexport function setQuestionCache(questionNumber, questionObject) {\n  if (questionObject) {\n    localStorage.setItem(\n      cacheKey(questionNumber),\n      JSON.stringify(questionObject)\n    );\n  } else {\n    localStorage.setItem(cacheKey(questionNumber), \"\");\n  }\n}\n\nexport function getQuestionNumberFromHash(hash) {\n  if (hash.match(/^#[0-9]+$/)) {\n    return +hash.slice(1);\n  } else {\n    return 1;\n  }\n}\n","import { useEffect } from \"react\";\nimport { useState } from \"react\";\n\nexport default function useIframeMessage() {\n  const [messageList, setMessageList] = useState([]);\n\n  useEffect(() => {\n    window.sendMessage = (args) => {\n      setMessageList((messageList) => messageList.concat([args]));\n    };\n    return () => {\n      window.sendMessage = undefined;\n    };\n  }, []);\n\n  return messageList;\n}\n","import { faAngleDown, faAngleUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useEffect, useRef } from \"react\";\nimport useIframeMessage from \"../hooks/useIframeMessage\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\n\nexport default function VirtualConsole() {\n  const [isOpen, setIsOpen] = useLocalStorage(\"is-virtual-console-open\", false);\n  const messageList = useIframeMessage();\n  const scrollRef = useRef();\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }\n  }, [messageList]);\n\n  return (\n    <div className=\"w-full bg-green-100 flex flex-col\">\n      <div className=\"w-full h-8 bg-gray-400 shadow-sm flex justify-center items-center relative\">\n        <div className=\"text-green-50\">Console ({messageList.length})</div>\n        <div\n          className=\"absolute right-2 hover: cursor-pointer text-green-50\"\n          onClick={() => {\n            setIsOpen((o) => !o);\n          }}\n        >\n          <FontAwesomeIcon\n            icon={isOpen ? faAngleDown : faAngleUp}\n          ></FontAwesomeIcon>\n        </div>\n      </div>\n      <div\n        className=\"w-full h-40 p-1 overflow-scroll\"\n        hidden={!isOpen}\n        ref={scrollRef}\n      >\n        {messageList.map((m) => (\n          <p\n            className={\n              \"font-sans border-b border-gray-50 border-solid \" +\n              (m.type === \"console.error\" ? \"text-red-500\" : \"text-green-900\")\n            }\n            key={m.id}\n          >\n            {m.data.content}\n          </p>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\n// Hook\nexport default function useLocalStorage(key, initialValue) {\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n  return [storedValue, setValue];\n}\n","import useIframeInject from \"../hooks/useIframeInject\";\nimport useIframeMessage from \"../hooks/useIframeMessage\";\nimport VirtualConsole from \"./VirtualConsole\";\n\nexport default function BrowserArea({ html, css, javascript }) {\n  const messageList = useIframeMessage();\n  const injectString = useIframeInject();\n  const tmpl = `\n    <html>\n        <head>\n            <style>\n                ${css}\n            </style>\n            <script>\n                ${injectString}\n            </script>\n        </head>\n\n        <body>\n            ${html}\n        </body>\n\n        <script>\n            ${javascript}\n        </script>\n    </html>\n  `;\n  if (injectString) {\n    return (\n      <div className=\"w-full h-full flex flex-col\">\n        <iframe className=\"w-full h-full flex-1\" srcDoc={tmpl}></iframe>\n        <VirtualConsole></VirtualConsole>\n      </div>\n    );\n  } else {\n    return (\n      <div className=\"w-full h-full flex justify-center justify-items-center\">\n        loading...\n      </div>\n    );\n  }\n}\n","import { useState } from \"react\";\nimport { useCallback } from \"react\";\nimport { useEffect } from \"react\";\n\nexport default function useIframeInject() {\n  const [injectString, setInjectString] = useState(\"\");\n  useEffect(() => {\n    fetch(\"/iframe_inject.js\")\n      .then((r) => r.text())\n      .then((r) => {\n        setInjectString(r);\n      });\n  }, []);\n  return injectString;\n}\n","import ReactMarkdown from \"react-markdown\";\n\nexport default function DocumentArea({ markdown }) {\n  return (\n    <div className=\"p-2 overflow-y-scroll\">\n      <ReactMarkdown>{markdown}</ReactMarkdown>\n    </div>\n  );\n}\n","import Editor from \"@monaco-editor/react\";\nimport { useEffect, useRef } from \"react\";\n\nexport default function EditorArea({ html, css, javascript, onChange }) {\n  const htmlEditorRef = useRef(null);\n  const cssEditorRef = useRef(null);\n  const javascriptEditorRef = useRef(null);\n\n  useEffect(() => {\n    if (htmlEditorRef.current) {\n      htmlEditorRef.current.setValue(html);\n    }\n    if (cssEditorRef.current) {\n      cssEditorRef.current.setValue(css);\n    }\n    if (javascriptEditorRef.current) {\n      javascriptEditorRef.current.setValue(javascript);\n    }\n  }, [html, css, javascript]);\n  return (\n    <div className=\"flex flex-col h-full\">\n      <div className=\"flex-1 relative\">\n        <Editor\n          defaultLanguage=\"html\"\n          theme=\"vs-dark\"\n          defaultValue={html}\n          options={{\n            minimap: {\n              enabled: false,\n            },\n          }}\n          onChange={(html) => {\n            onChange({ html });\n          }}\n          onMount={(editor) => (htmlEditorRef.current = editor)}\n        ></Editor>\n        <div className=\"absolute right-0 top-0 text-white p-1 rounded-xl bg-red-400\">\n          HTML\n        </div>\n      </div>\n      <div className=\"flex-1 relative\">\n        <Editor\n          defaultLanguage=\"css\"\n          theme=\"vs-dark\"\n          defaultValue={css}\n          options={{\n            minimap: {\n              enabled: false,\n            },\n          }}\n          onChange={(css) => {\n            onChange({ css });\n          }}\n          onMount={(editor) => (cssEditorRef.current = editor)}\n        ></Editor>\n        <div className=\"absolute right-0 top-0 text-white p-1 rounded-xl bg-green-400\">\n          CSS\n        </div>\n      </div>\n      <div className=\"flex-1 relative\">\n        <Editor\n          defaultLanguage=\"javascript\"\n          theme=\"vs-dark\"\n          defaultValue={javascript}\n          options={{\n            minimap: {\n              enabled: false,\n            },\n          }}\n          onChange={(javascript) => onChange({ javascript })}\n          onMount={(editor) => (javascriptEditorRef.current = editor)}\n        ></Editor>\n        <div className=\"absolute right-0 top-0 text-white p-1 rounded-xl bg-blue-400\">\n          JS\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useCallback, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport useQuestion from \"../hooks/useQuestion\";\nimport { debounce, getQuestionCache, setQuestionCache } from \"../utils\";\nimport BrowserArea from \"./BrowserArea\";\nimport DocumentArea from \"./DocumentArea\";\nimport EditorArea from \"./EditorArea\";\n\nexport default function Sandbox({ questionNumber = 1 }) {\n  // 初始值是null，后面可以用来检测编辑器里的内容是否已经初始化过了\n  const [initialEditorState, setInitialEditorState] = useState({\n    html: null,\n    css: null,\n    javascript: null,\n  });\n\n  // iframe浏览器的状态\n  const [browserState, setBrowserState] = useState({\n    html: \"\",\n    css: \"\",\n    javascript: \"\",\n  });\n\n  const questionObject = useQuestion(questionNumber);\n\n  useEffect(() => {\n    const questionCache = getQuestionCache(questionNumber);\n    if (questionCache) {\n      // 存在结题数据本地缓存\n      const state = {\n        html: questionCache.html,\n        css: questionCache.css,\n        javascript: questionCache.javascript,\n      };\n      setInitialEditorState(state);\n      setBrowserState(state);\n    } else if (questionObject?.questionNumber === questionNumber) {\n      // 没缓存，就显示接口里的原题数据\n      const state = {\n        html: questionObject.html,\n        css: questionObject.css,\n        javascript: questionObject.javascript,\n      };\n      setInitialEditorState(state);\n      setBrowserState(state);\n    }\n  }, [questionNumber, questionObject]);\n\n  /**\n   * 将当前编辑框内容存入localStorage\n   */\n  function saveDraft(state) {\n    setQuestionCache(questionNumber, state);\n  }\n\n  function onChange(stateDiff) {\n    const newState = Object.assign({}, browserState, stateDiff);\n    saveDraft(newState);\n    setBrowserState(newState);\n  }\n\n  const deboundedOnChange = debounce(onChange, 500);\n\n  return (\n    <div className=\"flex justify-items-stretch flex-1 flex-col md:flex-row\">\n      <div className=\"md:flex-1 bg-indigo-200 min-w\">\n        <DocumentArea markdown={questionObject?.md}></DocumentArea>\n      </div>\n      <div className=\"md:flex-1 bg-purple-100 h-screen\">\n        {initialEditorState.html !== null ? (\n          <EditorArea\n            html={initialEditorState.html}\n            css={initialEditorState.css}\n            javascript={initialEditorState.javascript}\n            onChange={deboundedOnChange}\n          ></EditorArea>\n        ) : null}\n      </div>\n      <div className=\"md:flex-1 bg-pink-100\">\n        <BrowserArea\n          html={browserState.html}\n          javascript={browserState.javascript}\n          css={browserState.css}\n        ></BrowserArea>\n      </div>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { useEffect } from \"react\";\n\nexport default function useQuestion(\n  questionNumber /* 题号 */,\n  setHtml,\n  setCss,\n  setJavascript\n) {\n  const [questionObject, setQuestionObject] = useState(null);\n\n  useEffect(() => {\n    setQuestionObject(null);\n    const mdPromise = fetch(`/questions/q${questionNumber}/question.md`).then(\n      (r) => r.text()\n    );\n    const htmlPromise = fetch(\n      `/questions/q${questionNumber}/question.html`\n    ).then((r) => r.text());\n    const cssPromise = fetch(`/questions/q${questionNumber}/question.css`).then(\n      (r) => r.text()\n    );\n    const jsPromise = fetch(`/questions/q${questionNumber}/question.js`).then(\n      (r) => r.text()\n    );\n\n    Promise.all([mdPromise, htmlPromise, cssPromise, jsPromise]).then(\n      ([md, html, css, javascript]) => {\n        setQuestionObject({\n          questionNumber,\n          md,\n          html,\n          css,\n          javascript,\n        });\n      }\n    );\n  }, [questionNumber]);\n\n  return questionObject;\n}\n","export default function Logo() {\n  return (\n    <div className=\"font-bold font-sans p-1 pl-4\" title=\"前端面试题练习场\">\n      JeesCode!\n    </div>\n  );\n}\n","import { faHeart } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Logo from \"./Logo\";\n\nexport default function Banner({ children }) {\n  return (\n    <div className=\"flex h-10 w-screen items-center shadow-md bg-gray-100\">\n      <div className=\"hidden md:block\">\n        <Logo></Logo>\n      </div>\n      <div className=\"flex-1 flex\">{children}</div>\n      <div className=\"pl-2 pr-2 hidden md:block\">\n        <span className=\"text-red-700 pr-2\">\n          <FontAwesomeIcon icon={faHeart}></FontAwesomeIcon>\n        </span>\n        <span>\n          <a href=\"https://github.com/lulu2jinchi\">@lulu2jinchi</a>\n        </span>\n      </div>\n    </div>\n  );\n}\n","import { useEffect } from \"react\";\nimport { useRef } from \"react\";\nimport Gitalk from \"gitalk\";\n\nexport default function Comment() {\n  const config = {\n    clientID: \"5cd53a83725fc77fea88\",\n    clientSecret: \"fb93d69b954f7c5b287781f36f59154879ec4033\",\n    repo: \"jeescode.github.io\",\n    owner: \"jeescode\",\n    admin: [\"jeescode\", \"mmjang\"],\n    id: window.location.href,\n    distractionFreeMode: false,\n  };\n\n  const ref = useRef();\n\n  useEffect(() => {\n    const gitalk = new Gitalk(config);\n    gitalk.render(\"gitalk-container\");\n  }, []);\n\n  return <div id=\"gitalk-container\" ref={ref}></div>;\n}\n","import { faAngleDown, faArrowDown } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useEffect, useRef, useState } from \"react\";\n\n/**\n * options: [\n * {\n *      id,\n *      label\n * }\n * value => id\n * onChange => (id) => void\n * ]\n */\nexport default function Select({\n  options = [],\n  value,\n  onChange,\n  placeholder = \"请选择...\",\n  className = \"\",\n}) {\n  const [dropDownOpen, setDropDownOpen] = useState(false);\n\n  const onOpenDropDown = () => {\n    setDropDownOpen((open) => !open);\n  };\n\n  const onSelect = (id) => {\n    console.log(`onselect ${id}`);\n    setDropDownOpen(false);\n    onChange(id);\n  };\n\n  const selectedLabel = options.find((x) => x.id === value)?.label;\n\n  const dropDownRef = useRef();\n\n  useEffect(() => {\n    const onMouseDown = (event) => {\n      console.log(\"onmousedown\");\n      if (dropDownRef.current && !dropDownRef.current.contains(event.target)) {\n        console.log(event.target);\n        setDropDownOpen(false);\n      }\n    };\n    console.log(\"use effect\");\n    window.addEventListener(\"click\", onMouseDown);\n    return () => {\n      window.removeEventListener(\"click\", onMouseDown);\n    };\n  }, []);\n\n  const dropDown = dropDownOpen ? (\n    <div className=\"absolute top-full w-full z-50 shadow-md\">\n      {options.map((option) => (\n        <div\n          className=\"p-2 border-t border-solid border-gray-100 bg-white hover:bg-gray-200 transition-all\"\n          key={option.id}\n          onClick={() => onSelect(option.id)}\n        >\n          {option.label}\n        </div>\n      ))}\n    </div>\n  ) : null;\n\n  return (\n    <div\n      className={`relative h-8 bg-white flex items-center ml-2 cursor-pointer hover:shadow-md ${className}`}\n      ref={dropDownRef}\n    >\n      {/* selected  */}\n      <div className=\"pl-2 pr-4 w-full\" onClick={onOpenDropDown}>\n        <div\n          className=\"overflow-ellipsis overflow-hidden whitespace-nowrap\"\n          style={{ width: \"calc(100%)\" }}\n        >\n          {selectedLabel ? (\n            <span>{selectedLabel}</span>\n          ) : (\n            <span className=\"text-gray-400\">{placeholder}</span>\n          )}\n        </div>\n        <div className=\"absolute right-1 top-0 bottom-0 flex items-center\">\n          <FontAwesomeIcon icon={faAngleDown}></FontAwesomeIcon>\n        </div>\n      </div>\n      {dropDown}\n    </div>\n  );\n}\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport \"gitalk/dist/gitalk.css\";\nimport Sandbox from \"./components/Sandbox\";\nimport Banner from \"./components/Banner\";\nimport Comment from \"./components/Comment\";\nimport useQuestionList from \"./hooks/useQuestionList\";\nimport { useEffect, useState } from \"react\";\nimport useQuestionNumber from \"./hooks/useQuestionNumber\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Select from \"./components/Select\";\nimport { faRedo } from \"@fortawesome/free-solid-svg-icons\";\n\nfunction App() {\n  const questionList = useQuestionList();\n  const questionNumber = useQuestionNumber();\n  const [selected, setSelected] = useState(questionNumber);\n  const [showComment, setShowComment] = useState(false);\n\n  useEffect(() => {\n    setShowComment(false);\n  }, [questionNumber]);\n\n  function onSelectionChange(id) {\n    window.location.href = `#${id}`;\n    setSelected(id);\n  }\n\n  const select = (\n    <Select\n      value={selected}\n      options={questionList.map((q) => ({\n        id: q.questionNumber,\n        label: q.title,\n      }))}\n      onChange={onSelectionChange}\n      className=\"w-40\"\n    ></Select>\n  );\n\n  return (\n    <div className=\"w-screen md:h-screen flex flex-col\">\n      <Banner>\n        <span className=\"pl-4 p-1 text-blue-700 hidden md:inline\">\n          题目列表：\n        </span>\n        {select}\n        <button\n          onClick={() => {\n            setShowComment(true);\n          }}\n          className=\"shadow-md ml-4 bg-white p-1\"\n        >\n          查看评论\n        </button>\n\n        <span\n          className=\"ml-4 cursor-pointer hover:text-green-600\"\n          title={\"重置\"}\n        >\n          <FontAwesomeIcon icon={faRedo}></FontAwesomeIcon>\n        </span>\n      </Banner>\n      <Sandbox questionNumber={questionNumber}></Sandbox>\n      {showComment ? (\n        <div\n          className=\"fixed w-screen h-screen flex items-center justify-center\"\n          onClick={(e) => {\n            setShowComment(false);\n          }}\n        >\n          <div\n            className=\"w-screen md:w-3/6 h-5/6 bg-gray-50 rounded-xl shadow-md p-2\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <Comment></Comment>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nexport default App;\n","import { useEffect, useState } from \"react\";\n\nexport default function useQuestionList() {\n  const [questionList, setQuestionList] = useState([]);\n  useEffect(() => {\n    fetch(\"/questions.json\")\n      .then((r) => r.json())\n      .then((data) => {\n        setQuestionList(data.list);\n      });\n  }, []);\n  return questionList;\n}\n","import { useEffect, useState } from \"react\";\nimport { getQuestionNumberFromHash } from \"../utils\";\n\nexport default function useQuestionNumber() {\n  const [questionNumber, setQuestionNumber] = useState(\n    getQuestionNumberFromHash(window.location.hash)\n  );\n  useEffect(() => {\n    function onHashChange() {\n      const hash = window.location.hash;\n      const num = getQuestionNumberFromHash(hash);\n      if (!hash) {\n        window.location.hash = \"#1\";\n      }\n      setQuestionNumber(num);\n    }\n    window.addEventListener(\"hashchange\", onHashChange);\n    onHashChange();\n    return () => {\n      window.removeEventListener(\"hashchange\", onHashChange);\n    };\n  }, []);\n  return questionNumber;\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}